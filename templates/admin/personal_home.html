{% extends "base.html" %}

{% block title %}Trang Chủ Cá Nhân (Admin){% endblock %}

{% block sidebar %}
    <style>.submenu .nav-link { padding-left: 2.5rem; font-size: 0.95rem; }</style>
    
    <div class="nav-item">
        <a class="nav-link collapsed d-flex justify-content-between align-items-center bg-dark text-white" 
           data-bs-toggle="collapse" href="#menuQuanLy" aria-expanded="false">
            <span><i class="fas fa-user-tie me-2 text-warning"></i>QUẢN LÝ</span><i class="fas fa-chevron-down small"></i>
        </a>
        <div class="collapse" id="menuQuanLy">
            <ul class="nav flex-column submenu bg-dark bg-opacity-50">
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/TrangChu"><i class="fas fa-tachometer-alt me-2"></i>Tổng Quan</a></li>
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/nhan_su"><i class="fas fa-users me-2"></i>Nhân Sự</a></li>
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/cham_cong"><i class="fas fa-calendar-alt me-2"></i>Chấm Công</a></li>
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/quan_ly_luong"><i class="fas fa-file-invoice-dollar me-2"></i>Tính Lương</a></li>
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/quan_ly_ca"><i class="fas fa-clock me-2"></i>Xếp Ca</a></li>
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/face_register"><i class="fas fa-laugh-wink me-2"></i>Đăng Ký Khuôn Mặt</a></li>

            </ul>
        </div>
    </div>

    <div class="nav-item mt-2">
        <a class="nav-link d-flex justify-content-between align-items-center bg-dark text-white" 
           data-bs-toggle="collapse" href="#menuCaNhan" aria-expanded="true">
            <span><i class="fas fa-user-circle me-2 text-info"></i>CÁ NHÂN</span><i class="fas fa-chevron-down small"></i>
        </a>
        <div class="collapse show" id="menuCaNhan">
            <ul class="nav flex-column submenu bg-dark bg-opacity-50">
                <li class="nav-item"><a class="nav-link active text-white" href="/admin/personal_home"><i class="fas fa-home me-2"></i>Trang Chủ</a></li>
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/profile"><i class="fas fa-id-card me-2"></i>Hồ Sơ Của Tôi</a></li>
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/salary"><i class="fas fa-money-check-alt me-2"></i>Bảng Lương</a></li>
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/schedule"><i class="fas fa-calendar-alt me-2"></i>Lịch Làm Việc</a></li>
                <li class="nav-item"><a class="nav-link text-white-50 hover-white" href="/admin/attendlog"><i class="fas fa-history me-2"></i>Công Của Tôi</a></li>
            </ul>
        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="card border-0 shadow-sm mb-4">
        <div class="card-body p-4">
            <h4 class="text-primary mb-3">Xin chào, {{ session.get('username') }}!</h4>
            <div class="alert alert-{{ color }} d-flex align-items-center shadow-sm" role="alert">
                {% if color == 'warning' %}<i class="fas fa-exclamation-triangle fa-2x me-3"></i>
                {% elif color == 'info' %}<i class="fas fa-clock fa-2x me-3"></i>
                {% else %}<i class="fas fa-check-circle fa-2x me-3"></i>{% endif %}
                <div>
                    <h5 class="alert-heading mb-1 fw-bold">
                        {% if color == 'warning' %}Chưa Check-in{% elif color == 'info' %}Đang làm việc{% else %}Hoàn thành{% endif %}
                    </h5>
                    <p class="mb-0">{{ msg }}</p>
                </div>
            </div>
            {% if not cham_cong %}
                <p class="text-muted fst-italic mt-2 small ms-1"><i class="fas fa-info-circle me-1"></i>Vui lòng đến máy chấm công FaceID để thực hiện điểm danh.</p>
            {% endif %}
        </div>
    </div>
    
    <div class="card border-0 shadow-sm">
        <div class="card-header bg-white fw-bold border-bottom-0 pt-3"><i class="fas fa-bell text-warning me-2"></i> Thông báo mới</div>
        <div class="list-group list-group-flush">
            <a href="#" class="list-group-item list-group-item-action py-3">
                <div class="d-flex w-100 justify-content-between"><h6 class="mb-1 text-dark">Thông báo dành cho Quản trị viên</h6><small class="text-muted">Hôm nay</small></div>
                <p class="mb-1 text-secondary small">Vui lòng kiểm tra báo cáo cuối tháng...</p>
            </a>
        </div>
    </div>
{% endblock %}